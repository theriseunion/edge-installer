# Edge Prometheus Agent 配置
image:
  registry: "quay.io"
  repository: prometheus/prometheus
  tag: v2.50.1
  pullPolicy: IfNotPresent

# busybox 镜像（用于 initContainers）
busyboxImage: "busybox:1.36"

# 网络修复配置
# Docker 会将 iptables FORWARD 策略设为 DROP，导致 cni0 网桥流量被丢弃
# 启用此选项会在 pod 启动时自动添加 iptables 规则修复此问题
networkFix:
  enabled: true

# 边缘集群名称
clusterName: "edge-cluster-1"

# 云端 Remote Write 地址
remoteWriteUrl: "http://192.168.1.100:30990/api/v1/write"

# 采集间隔
scrapeInterval: 30s

resources:
  requests:
    memory: "128Mi"
    cpu: "50m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# 节点选择器 - 限定只在边缘节点上部署
nodeSelector:
  node.theriseunion.io/type: "edge"
