# Host 集群组件配置 (本地镜像版本)
# 使用 main-local 标签的镜像
# 使用方式: kubectl apply -f components/host-components-local.yaml

---
apiVersion: ext.theriseunion.io/v1alpha1
kind: Component
metadata:
  name: edge-apiserver
  namespace: edge-system
  labels:
    app.kubernetes.io/name: edge-apiserver
    app.kubernetes.io/component: apiserver
    app.kubernetes.io/part-of: edge-platform
    app.kubernetes.io/managed-by: component-controller
spec:
  type: apiserver
  enabled: true
  version: "0.1.0"
  chart:
    name: edge-apiserver
    namespace: edge-system
    releaseName: edge-apiserver
  values:
    image:
      repository: quanzhenglong.com/edge/apiserver
      tag: main-qzl
      pullPolicy: IfNotPresent

---
apiVersion: ext.theriseunion.io/v1alpha1
kind: Component
metadata:
  name: edge-console
  namespace: edge-system
  labels:
    app.kubernetes.io/name: edge-console
    app.kubernetes.io/component: console
    app.kubernetes.io/part-of: edge-platform
    app.kubernetes.io/managed-by: component-controller
spec:
  type: console
  enabled: true
  version: "0.1.0"
  chart:
    name: edge-console
    namespace: edge-system
    releaseName: edge-console
  values:
    image:
      repository: quanzhenglong.com/edge/console
      tag: main-qzl
      pullPolicy: IfNotPresent

---
apiVersion: ext.theriseunion.io/v1alpha1
kind: Component
metadata:
  name: edge-monitoring
  namespace: observability-system
  labels:
    app.kubernetes.io/name: edge-monitoring
    app.kubernetes.io/component: monitoring
    app.kubernetes.io/part-of: edge-platform
    app.kubernetes.io/managed-by: component-controller
spec:
  type: monitoring
  enabled: true
  version: "0.1.0"
  chart:
    name: edge-monitoring
    namespace: observability-system
    releaseName: edge-monitoring
