# Edge Controller Configuration - Focused on RBAC Management

replicaCount: 1

# Override the full name to remove edge- prefix
fullnameOverride: "controller"

image:
  repository: quanzhenglong.com/edge/controller
  pullPolicy: IfNotPresent  # Options: Always, IfNotPresent, Never
  tag: "main"

# ServiceAccount configuration
serviceAccount:
  create: true
  automount: true
  name: ""

# Security Context
securityContext:
  runAsNonRoot: true
  runAsGroup: 10001
  runAsUser: 10001
  allowPrivilegeEscalation: false
  capabilities:
    drop:
    - ALL

# Service configuration
service:
  type: ClusterIP
  port: 443
  targetPort: 9443

# Resource limits and requests
resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Edge Controller specific configuration
edge:
  controller:
    # Log level (debug, info, warn, error)
    logLevel: info
    # Metrics port
    metricsPort: 8080
    # Health check port  
    healthPort: 8081

  # RBAC Controller configuration
  rbacController:
    enabled: true
    # Watch all namespaces for RBAC resources
    watchNamespace: ""