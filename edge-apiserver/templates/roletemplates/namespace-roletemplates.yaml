# RoleTemplates - 角色模板定义
# 自动从 Kubernetes RoleTemplate 转换生成
# 包含集群管理、平台管理、命名空间管理等权限模板
---
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"app-releases": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-admin: ''
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-app
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-admin: "true"
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-create-app-releases
spec:
  uiPermissions:
    - namespace/app-release.view
    - namespace/app-release.create
  description:
  displayName:
    zh: 应用实例创建
  rules:
  - apiGroups:
    - application.theriseunion.io
    resources:
    - applications
    - attachments
    verbs:
    - post
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"app-releases": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-admin: ''
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-app
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-admin: "true"
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-delete-app-releases
spec:
  uiPermissions:
    - namespace/app-release.view
    - namespace/app-release.delete
  description:
  displayName:
    zh: 应用实例删除
  rules:
  - apiGroups:
    - application.theriseunion.io
    resources:
    - applications
    - attachments
    verbs:
    - delete
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-app-releases","namespace-delete-app-releases","namespace-create-app-releases"]'
    iam.theriseunion.io/role-template-rules: '{"app-releases": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-admin: ''
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-app
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-admin: "true"
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-app-releases
spec:
  uiPermissions:
    - namespace/app-release.view
    - namespace/app-release.manage
  description:
  displayName:
    zh: 应用实例管理
  rules:
  - apiGroups:
    - application.theriseunion.io
    resources:
    - applications
    - attachments
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-app-workloads"]'
    iam.theriseunion.io/role-template-rules: '{"applications":"manage","deployments":"manage","statefulsets":"manage", "daemonsets":"manage","jobs":"manage","cronjobs":"manage","pods":"manage","services":"manage","ingresses":"manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-application-workloads
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-app-workloads
spec:
  uiPermissions:
    - namespace/deployment.view
    - namespace/deployment.manage
    - namespace/statefulset.view
    - namespace/statefulset.manage
    - namespace/daemonset.view
    - namespace/daemonset.manage
    - namespace/job.view
    - namespace/job.manage
    - namespace/cronjob.view
    - namespace/cronjob.manage
    - namespace/pod.view
    - namespace/pod.manage
    - namespace/pod.logs
    - namespace/pod.terminal
  description:
  displayName:
    zh: 应用负载管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - services
    - applications
    - controllerrevisions
    - deployments
    - replicasets
    - statefulsets
    - daemonsets
    - jobs
    - cronjobs
    - pods
    - pods/log
    - pods/exec
    - pods/containers
    - services
    - ingresses
    - router
    - workloads
    - horizontalpodautoscalers
    verbs:
    - '*'
  - apiGroups:
    - '*'
    resources:
    - secrets
    verbs:
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-configmaps"]'
    iam.theriseunion.io/role-template-rules: '{"configmaps": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-configmaps
spec:
  uiPermissions:
    - namespace/configmap.view
    - namespace/configmap.manage
  description:
  displayName:
    zh: 配置字典管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - configmaps
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"members": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-access-control
    iam.theriseunion.io/hidden-role-template: 'true'
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
  name: namespace-manage-members
spec:
  uiPermissions:
    - namespace/member.view
    - namespace/member.manage
  description:
  displayName:
    zh: 成员管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - namespacemembers
    - rolebindings
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-monitoring"]'
    iam.theriseunion.io/role-template-rules: '{"monitoring": "manage"}'
    meta.helm.sh/release-name: monitor-monitoring-agent
    meta.helm.sh/release-namespace: observability-system
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-monitoring-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-monitoring
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-monitoring
spec:
  uiPermissions:
    - namespace/monitoring.view
    - namespace/monitoring.manage
  description:
  displayName:
    zh: 监控管理
  rules:
  - apiGroups:
    - monitoring.theriseunion.io
    resources:
    - dashboards
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-persistentvolumeclaims"]'
    iam.theriseunion.io/role-template-rules: '{"persistentvolumeclaims": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-storage-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-persistentvolumeclaims
spec:
  uiPermissions:
    - namespace/persistentvolumeclaim.view
    - namespace/persistentvolumeclaim.manage
  description:
  displayName:
    zh: 持久卷声明管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - persistentvolumeclaims
    verbs:
    - '*'
  - apiGroups:
    - '*'
    resources:
    - pods
    verbs:
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"project-settings": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-settings
    iam.theriseunion.io/hidden-role-template: 'true'
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-admin: "true"
  name: namespace-manage-project-settings
spec:
  uiPermissions:
    - namespace/project-settings.view
    - namespace/project-settings.manage
  description:
  displayName:
    zh: 项目设置管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - '*'
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"roles": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-access-control
    iam.theriseunion.io/hidden-role-template: 'true'
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
  name: namespace-manage-roles
spec:
  uiPermissions:
    - namespace/role.view
    - namespace/role.manage
  description:
  displayName:
    zh: 角色管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - roles
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-secrets"]'
    iam.theriseunion.io/role-template-rules: '{"secrets": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-secrets
spec:
  uiPermissions:
    - namespace/secret.view
    - namespace/secret.manage
  description:
  displayName:
    zh: 保密字典管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - secrets
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-serviceaccount"]'
    iam.theriseunion.io/role-template-rules: '{"serviceaccounts": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
  name: namespace-manage-serviceaccount
spec:
  uiPermissions:
    - namespace/serviceaccount.view
    - namespace/serviceaccount.manage
  description:
  displayName:
    zh: 服务账户管理
  rules:
  - apiGroups:
    - '*'
    resources:
    - serviceaccounts
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-workloadtemplates"]'
    iam.theriseunion.io/role-template-rules: '{"workloadtemplates": "manage"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-workloadtemplates
spec:
  uiPermissions:
    - namespace/workload-template.view
    - namespace/workload-template.manage
  description:
  displayName:
    zh: 工作负载模板管理
  rules:
  - apiGroups:
    - workloadtemplate.theriseunion.io
    resources:
    - '*'
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"notification": "receive"}'
    meta.helm.sh/release-name: monitor-notification
    meta.helm.sh/release-namespace: observability-system
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-receive-notification
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-notification
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-receive-notification
spec:
  uiPermissions:
    - namespace/notification.receive
  description:
  displayName:
    zh: 接收通知
  rules:
  - apiGroups:
    - notification.theriseunion.io
    resources:
    - receivenotification
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"app-releases": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-app
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-app-releases
spec:
  uiPermissions:
    - namespace/app-release.view
  description:
  displayName:
    zh: 应用实例查看
  rules:
  - apiGroups:
    - application.theriseunion.io
    resources:
    - applications
    - attachments
    verbs:
    - get
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-volumes","namespace-view-secrets","namespace-view-configmaps"]'
    iam.theriseunion.io/role-template-rules: '{"applications":"view","deployments":"view","statefulsets":"view", "daemonsets":"view","jobs":"view","cronjobs":"view","pods":"view","services":"view","ingresses":"view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-application-workloads
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-app-workloads
spec:
  uiPermissions:
    - namespace/deployment.view
    - namespace/statefulset.view
    - namespace/daemonset.view
    - namespace/job.view
    - namespace/cronjob.view
    - namespace/pod.view
  description:
  displayName:
    zh: 应用负载查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - services
    - applications
    - controllerrevisions
    - deployments
    - replicasets
    - statefulsets
    - daemonsets
    - jobs
    - cronjobs
    - pods
    - pods/log
    - pods/containers
    - services
    - ingresses
    - router
    - horizontalpodautoscalers
    - configmaps
    - secrets
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"configmaps": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-configmaps
spec:
  uiPermissions:
    - namespace/configmap.view
  description:
  displayName:
    zh: 配置字典查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - configmaps
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"members": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-access-control
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-members
spec:
  uiPermissions:
    - namespace/member.view
  description:
  displayName:
    zh: 成员查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - namespacemembers
    - rolebindings
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"monitoring": "view"}'
    meta.helm.sh/release-name: monitor-monitoring-agent
    meta.helm.sh/release-namespace: observability-system
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-monitoring-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-monitoring
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-monitoring
spec:
  uiPermissions:
    - namespace/monitoring.view
  description:
  displayName:
    zh: 监控查看
  rules:
  - apiGroups:
    - monitoring.theriseunion.io
    resources:
    - metrics
    - namespace_metrics
    - workload_metrics
    - pod_metrics
    - container_metrics
    - pvc_metrics
    - component_metrics
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"persistentvolumeclaims": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-storage-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-persistentvolumeclaims
spec:
  uiPermissions:
    - namespace/persistentvolumeclaim.view
  description:
  displayName:
    zh: 持久卷声明查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - persistentvolumeclaims
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - '*'
    resources:
    - pods
    verbs:
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"project-settings": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/basic-role-template: 'true'
    iam.theriseunion.io/category: namespace-settings
    iam.theriseunion.io/hidden-role-template: 'true'
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-project-settings
spec:
  uiPermissions:
    - namespace/project-settings.view
  description:
  displayName:
    zh: 项目设置查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - namespaces
    verbs:
    - get
  - apiGroups:
    - resources.theriseunion.io
    resources:
    - quotas
    - metrics
    verbs:
    - list
  - apiGroups:
    - ''
    resources:
    - limitranges
    verbs:
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-members"]'
    iam.theriseunion.io/role-template-rules: '{"roles": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-access-control
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-roles
spec:
  uiPermissions:
    - namespace/role.view
  description:
  displayName:
    zh: 角色查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - roles
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"secrets": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-secrets
spec:
  uiPermissions:
    - namespace/secret.view
  description:
  displayName:
    zh: 保密字典查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - secrets
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-roles","namespace-view-secrets"]'
    iam.theriseunion.io/role-template-rules: '{"serviceaccounts": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-serviceaccount
spec:
  uiPermissions:
    - namespace/serviceaccount.view
  description:
  displayName:
    zh: 服务账户查看
  rules:
  - apiGroups:
    - '*'
    resources:
    - serviceaccounts
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"workloadtemplates": "view"}'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-regular: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: namespace-configuration-management
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-workloadtemplates
spec:
  uiPermissions:
    - namespace/workload-template.view
  description:
  displayName:
    zh: 工作负载模板查看
  rules:
  - apiGroups:
    - workloadtemplate.theriseunion.io
    resources:
    - '*'
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["monitor-alerting-agent-namespace-view-rulegroups"]'
    iam.theriseunion.io/role-template-rules: '{"rulegroups": "manage"}'
    meta.helm.sh/release-name: monitor-alerting-agent
    meta.helm.sh/release-namespace: extension-monitor-alerting
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/category: monitor-alerting-agent-namespace-alerting
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-alerting
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: monitor-alerting-agent-namespace-manage-rulegroups
spec:
  uiPermissions:
    - namespace/alert-rule.view
    - namespace/alert-rule.manage
  description:
  displayName:
    zh: 规则组管理
  rules:
  - apiGroups:
    - alerting.theriseunion.io
    resources:
    - rulegroups
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"alerts": "view"}'
    meta.helm.sh/release-name: monitor-alerting-agent
    meta.helm.sh/release-namespace: extension-monitor-alerting
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: monitor-alerting-agent-namespace-alerting
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-alerting
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: monitor-alerting-agent-namespace-view-alerts
spec:
  uiPermissions:
    - namespace/alert.view
  description:
  displayName:
    zh: 告警查看
  rules:
  - apiGroups:
    - alerting.theriseunion.io
    resources:
    - alerts
    verbs:
    - '*'
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/role-template-rules: '{"rulegroups": "view"}'
    meta.helm.sh/release-name: monitor-alerting-agent
    meta.helm.sh/release-namespace: extension-monitor-alerting
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/aggregate-to-operator: ''
    iam.theriseunion.io/aggregate-to-viewer: ''
    iam.theriseunion.io/category: monitor-alerting-agent-namespace-alerting
    iam.theriseunion.io/scope: namespace
    theriseunion.io/extension-ref: monitor-alerting
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: monitor-alerting-agent-namespace-view-rulegroups
spec:
  uiPermissions:
    - namespace/alert-rule.view
  description:
  displayName:
    zh: 规则组查看
  rules:
  - apiGroups:
    - alerting.theriseunion.io
    resources:
    - rulegroups
    verbs:
    - get
    - list
    - watch

---
# 新增标准 RoleTemplate - Story 3
# Services 管理
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-service-network
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-services
spec:
  uiPermissions:
    - namespace/service.view
    - namespace/ingress.view
  displayName:
    zh: 查看服务
    en: View Services
  description:
    zh: 允许查看命名空间内的服务和路由
    en: Allows viewing services and ingresses within the namespace
  rules:
  - apiGroups:
    - '*'
    resources:
    - services
    - ingresses
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-services"]'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-service-network
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-services
spec:
  uiPermissions:
    - namespace/service.view
    - namespace/service.manage
    - namespace/ingress.view
    - namespace/ingress.manage
  displayName:
    zh: 管理服务
    en: Manage Services
  description:
    zh: 允许管理命名空间内的服务和路由
    en: Allows managing services and ingresses within the namespace
  rules:
  - apiGroups:
    - '*'
    resources:
    - services
    - ingresses
    verbs:
    - '*'
---
# Workloads 标准命名 (保留 app-workloads 兼容)
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/standard-name-for: namespace-view-app-workloads
    iam.theriseunion.io/dependencies: '["namespace-view-persistentvolumeclaims","namespace-view-secrets","namespace-view-configmaps"]'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-application-workloads
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-workloads
spec:
  uiPermissions:
    - namespace/deployment.view
    - namespace/statefulset.view
    - namespace/daemonset.view
    - namespace/job.view
    - namespace/cronjob.view
    - namespace/pod.view
  displayName:
    zh: 查看工作负载
    en: View Workloads
  description:
    zh: 允许查看命名空间内的所有工作负载资源（标准命名版本）
    en: Allows viewing all workload resources within the namespace (standard naming)
  rules:
  - apiGroups:
    - '*'
    resources:
    - applications
    - controllerrevisions
    - deployments
    - replicasets
    - statefulsets
    - daemonsets
    - jobs
    - cronjobs
    - pods
    - pods/log
    - pods/containers
    - horizontalpodautoscalers
    - configmaps
    - secrets
    verbs:
    - get
    - list
    - watch
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/standard-name-for: namespace-manage-app-workloads
    iam.theriseunion.io/dependencies: '["namespace-view-workloads"]'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-application-workloads
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-workloads
spec:
  uiPermissions:
    - namespace/deployment.view
    - namespace/deployment.manage
    - namespace/statefulset.view
    - namespace/statefulset.manage
    - namespace/daemonset.view
    - namespace/daemonset.manage
    - namespace/job.view
    - namespace/job.manage
    - namespace/cronjob.view
    - namespace/cronjob.manage
    - namespace/pod.view
    - namespace/pod.manage
    - namespace/pod.logs
    - namespace/pod.terminal
  displayName:
    zh: 管理工作负载
    en: Manage Workloads
  description:
    zh: 允许管理命名空间内的所有工作负载资源（标准命名版本）
    en: Allows managing all workload resources within the namespace (standard naming)
  rules:
  - apiGroups:
    - '*'
    resources:
    - services
    - applications
    - controllerrevisions
    - deployments
    - replicasets
    - statefulsets
    - daemonsets
    - jobs
    - cronjobs
    - pods
    - pods/log
    - pods/exec
    - pods/containers
    - services
    - ingresses
    - router
    - workloads
    - horizontalpodautoscalers
    verbs:
    - '*'
  - apiGroups:
    - '*'
    resources:
    - secrets
    verbs:
    - list
---
# Config-Storage 整合 RoleTemplate
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/aggregates: '["namespace-view-configmaps","namespace-view-secrets","namespace-view-persistentvolumeclaims"]'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-configuration-storage
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-viewer: "true"
  name: namespace-view-config-storage
spec:
  uiPermissions:
    - namespace/configmap.view
    - namespace/secret.view
    - namespace/persistentvolumeclaim.view
  displayName:
    zh: 查看配置与存储
    en: View Config & Storage
  description:
    zh: 允许查看配置字典、保密字典和持久卷声明（整合权限）
    en: Allows viewing configmaps, secrets and PVCs (aggregated permission)
  rules:
  - apiGroups:
    - '*'
    resources:
    - configmaps
    - secrets
    - persistentvolumeclaims
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - '*'
    resources:
    - pods
    verbs:
    - list
---
apiVersion: iam.theriseunion.io/v1alpha1
kind: RoleTemplate
metadata:
  annotations:
    iam.theriseunion.io/dependencies: '["namespace-view-config-storage"]'
    iam.theriseunion.io/aggregates: '["namespace-manage-configmaps","namespace-manage-secrets","namespace-manage-persistentvolumeclaims"]'
  labels:
    app.kubernetes.io/managed-by: Helm
    iam.theriseunion.io/category: namespace-configuration-storage
    iam.theriseunion.io/scope: namespace
    theriseunion.io/managed: 'true'
    iam.theriseunion.io/scope-value: default
    iam.theriseunion.io/aggregate-to-namespace-operator: "true"
  name: namespace-manage-config-storage
spec:
  uiPermissions:
    - namespace/configmap.view
    - namespace/configmap.manage
    - namespace/secret.view
    - namespace/secret.manage
    - namespace/persistentvolumeclaim.view
    - namespace/persistentvolumeclaim.manage
  displayName:
    zh: 管理配置与存储
    en: Manage Config & Storage
  description:
    zh: 允许管理配置字典、保密字典和持久卷声明（整合权限）
    en: Allows managing configmaps, secrets and PVCs (aggregated permission)
  rules:
  - apiGroups:
    - '*'
    resources:
    - configmaps
    - secrets
    - persistentvolumeclaims
    verbs:
    - '*'
  - apiGroups:
    - '*'
    resources:
    - pods
    verbs:
    - list
